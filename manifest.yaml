manifest_version: 2
name: Link Cleaner
author: Erwan Ameil
homepage_url: https://github.com/idlewan/link_cleaner
version: '1.2'

description: >
  Clean URLs that are about to be visited from utm_* parameters.
  
  Also cleans tracking parameters on item pages of aliexpress and amazon sites.

  For example, this url:
    http://meyerweb.com/eric/thoughts/2017/03/07/welcome-to-the-grid/?utm_source=frontendfocus&utm_medium=email

  is changed to:
    http://meyerweb.com/eric/thoughts/2017/03/07/welcome-to-the-grid/

  This amazon url:
    https://www.amazon.com/AmazonBasics-Type-C-USB-Male-Cable/dp/B01GGKYQ02/ref=sr_1_1?s=amazonbasics&srs=10112675011&ie=UTF8&qid=1489067885&sr=8-1&keywords=usb-c

  is changed to:
    https://www.amazon.com/AmazonBasics-Type-C-USB-Male-Cable/dp/B01GGKYQ02/

  You can now visit and bookmark clean links instead of the long,
  tracking-enabled ones!

background:
  scripts:
  - background.js

permissions:
- '<all_urls>'
- webRequest
- webRequestBlocking
